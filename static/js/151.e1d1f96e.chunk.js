"use strict";(self.webpackChunkcar_rent=self.webpackChunkcar_rent||[]).push([[151],{9151:function(e,a,n){n.r(a),n.d(a,{default:function(){return V}});var s=n(3433),r=n(9439),t="Catalog_wrapper__dyzoY",i="Catalog_imageGallery__K21PZ",l="Catalog_imageGalleryItem__bWhV8",c="Catalog_imageGalleryItemImg__dEPuP",o="Catalog_filter__-wOMJ",d="Catalog_btnFav__FYnPJ",m="Catalog_cardTitle__WvgnI",p="Catalog_cardTitleSpan__RRZNd",u="Catalog_cardTitleSpanBlue__EXSgZ",_="Catalog_cardTitleSpanPrice__++KCv",h="Catalog_cardTitleWrap__dY97v",f="Catalog_carInfoWrap__Rc12S",x="Catalog_delimeter__9Hl5w",j="Catalog_carInfo__FG5i2",g="Catalog_carInfoBottomWrap__KwSNn",N="Catalog_cardBtnLearnMore__fYzXC",b=n(5861),C=n(4687),v=n.n(C),W=n(1243),F="https://65043bd8c8869921ae24bc1c.mockapi.io/adverts";function S(){return S=(0,b.Z)(v().mark((function e(a){var n,s,r=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.next=4,W.Z.get("".concat(F,"?page=").concat(a,"&limit=").concat(n));case 4:return s=e.sent,e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0.message),new Error(e.t0.message);case 12:case 13:case"end":return e.stop()}}),e,null,[[1,8]])}))),S.apply(this,arguments)}var y=function(e){return S.apply(this,arguments)},M=n(2791),T=n(5264),k=n(5984),w="ButtonLoadMore_buttonLm__JoeFQ",I=n(184),Z=function(e){var a=e.onClick;return(0,I.jsx)("button",{className:w,type:"button",onClick:a,children:"Load more"})},P=n(1413),B={form:"Filter_form__wVnxJ",brandWrap:"Filter_brandWrap__SJT45",inputBrand:"Filter_inputBrand__su5P6",buttonOpenBrand:"Filter_buttonOpenBrand__MNglM",labelBrand:"Filter_labelBrand__SSj0t",svgOpen:"Filter_svgOpen__CdfkW",priceWrap:"Filter_priceWrap__ParfG",labelPrice:"Filter_labelPrice__Dq5Rs",inputPrice:"Filter_inputPrice__qwjiv",buttonOpenPrice:"Filter_buttonOpenPrice__nZmMo",mileageWrap:"Filter_mileageWrap__q9Vq5",inputWrap:"Filter_inputWrap__XEHXz",mileageLabel:"Filter_mileageLabel__FTo1Q",mileageInputFrom:"Filter_mileageInputFrom__-zK2+",mileageInputTo:"Filter_mileageInputTo__yabGk",buttonSearchFilter:"Filter_buttonSearchFilter__vMDgb",btnResetFilter:"Filter_btnResetFilter__wx+kv",brandList:"Filter_brandList__wWl8e",priceList:"Filter_priceList__bqh-9",brandItem:"Filter_brandItem__p004R",priceItem:"Filter_priceItem__2Q5NH"};var L=n.p+"static/media/symbol-defs.bb068d2edaa1f2c179ff3ecc52e6989e.svg",O=function(e,a){var n=a.make,s=void 0===n?"":n,r=a.price,t=void 0===r?1e3:r,i=a.milFrom,l=void 0===i?1:i,c=a.milTo,o=void 0===c?1/0:c;return e.filter((function(e){return Number(e.rentalPrice.substring(1))<="".concat(t)})).filter((function(e){return e.make===("".concat(s)||e.make)})).filter((function(e){return e.mileage>="".concat(l)&&e.mileage<="".concat(o)}))},R=function(e){var a=e.allItems,n=(e.favourItems,e.onFilter),s=(0,M.useState)(!1),t=(0,r.Z)(s,2),i=t[0],l=t[1],c=(0,M.useState)(!1),o=(0,r.Z)(c,2),d=o[0],m=o[1],p=(0,M.useState)(""),u=(0,r.Z)(p,2),_=u[0],h=u[1],f=(0,M.useState)(""),x=(0,r.Z)(f,2),j=x[0],g=x[1],N=(0,M.useState)(1),b=(0,r.Z)(N,2),C=b[0],v=b[1],W=(0,M.useState)(1/0),F=(0,r.Z)(W,2),S=F[0],y=F[1],T=(0,M.useState)({}),w=(0,r.Z)(T,2),Z=w[0],R=w[1],E=O(a,(0,P.Z)({},Z));console.log("POSLE \u0424\u0418\u041b\u042c\u0422\u0420\u0410:",E);console.log("\u0424\u0418\u041b\u042c\u0422\u0420\u0410:",Z);var D=a.map((function(e){return e.make})).filter((function(e,a,n){return n.indexOf(e)===a})),J=function(){for(var e=[],a=10;a<=500;a+=10)e.push(a);return e}();return(0,I.jsxs)("div",{className:B.formWrap,children:[(0,I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),R({make:_,price:j,milFrom:C,milTo:S}),n(E)},className:B.form,children:[(0,I.jsxs)("div",{className:B.brandWrap,children:[(0,I.jsx)("label",{htmlFor:"brand",className:B.labelBrand,children:"Car brand"}),(0,I.jsx)("input",{type:"text",name:"brand",id:"brand",placeholder:"Enter the text",value:_,onChange:function(e){return h(e.target.value)},className:B.inputBrand}),(0,I.jsx)("button",{type:"button","aria-label":"arrow",onClick:function(){return l(!i)},className:B.buttonOpenBrand,children:(0,I.jsx)("svg",{width:"20",height:"20",className:B.svgOpen,children:(0,I.jsx)("use",{href:"".concat(L,"#icon-chevron-down")})})}),i&&(0,I.jsx)("ul",{className:B.brandList,children:D.map((function(e){var a=(0,k.x0)();return(0,I.jsx)("li",{onClick:function(){return a="".concat(e),l(!1),void h(a);var a},className:B.brandItem,children:e},a)}))})]}),(0,I.jsxs)("div",{className:B.priceWrap,children:[(0,I.jsx)("label",{htmlFor:"price",className:B.labelPrice,children:"Price/ 1 hour"}),(0,I.jsx)("input",{type:"text",name:"price",id:"price",placeholder:"To $",value:j,onChange:function(e){return g(e.target.value)},className:B.inputPrice}),(0,I.jsx)("button",{type:"button","aria-label":"arrow",onClick:function(){return m(!d)},className:B.buttonOpenPrice,children:(0,I.jsx)("svg",{width:"20",height:"20",className:B.svgOpen,children:(0,I.jsx)("use",{href:"".concat(L,"#icon-chevron-down")})})}),d&&(0,I.jsx)("ul",{className:B.priceList,children:J.map((function(e){var a=(0,k.x0)();return(0,I.jsx)("li",{onClick:function(){return a="".concat(e),m(!1),void g(a);var a},className:B.priceItem,children:e},a)}))})]}),(0,I.jsxs)("div",{className:B.mileageWrap,children:[(0,I.jsx)("label",{htmlFor:"mileage",className:B.mileageLabel,children:"\u0421ar mileage / km"}),(0,I.jsxs)("div",{className:B.inputWrap,children:[(0,I.jsx)("input",{type:"number",id:"mileage",name:"mileageFrom",placeholder:"From",value:C,onChange:function(e){var a=e.target.value;v(a)},className:B.mileageInputFrom}),(0,I.jsx)("input",{type:"number",id:"mileage",name:"mileageTo",placeholder:"To",value:S,onChange:function(e){var a=e.target.value;y(a)},className:B.mileageInputTo})]})]}),(0,I.jsx)("button",{type:"submit",className:B.buttonSearchFilter,children:"Search"})]}),(0,I.jsx)("button",{type:"button",className:B.btnResetFilter,onClick:function(){R({}),h(""),g(""),v(1),y(1/0)},children:"Reset filters"})]})},E="Modal_overlay__r63M6",D="Modal_modal__DJDMv",J="Modal_closebtn__6fsdE",z="Modal_icon__2UpwH",q=n(4164),G=document.querySelector("#modal-root"),H=function(e){var a=e.onClose,n=e.children;(0,M.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[a]);return(0,q.createPortal)((0,I.jsx)("div",{className:E,onClick:function(e){e.target===e.currentTarget&&a()},children:(0,I.jsxs)("div",{className:D,children:[(0,I.jsx)("div",{className:J,onClick:a,children:(0,I.jsx)("svg",{className:z,width:"18",height:"18",children:(0,I.jsx)("use",{href:"".concat(L,"#icon-x")})})}),n]})}),G)},Y={modalWrap:"ModalCard_modalWrap__hWyFc",imgCar:"ModalCard_imgCar__gM0jS",imageWrapper:"ModalCard_imageWrapper__HoFw+",infoWrap:"ModalCard_infoWrap__zqOVO",infoTopWrap:"ModalCard_infoTopWrap__NtLzG",infoBottomWrap:"ModalCard_infoBottomWrap__+YJfE",infoCar:"ModalCard_infoCar__HAxul",border:"ModalCard_border__f8lFW",nameCar:"ModalCard_nameCar__MEZvi",modelCar:"ModalCard_modelCar__XWVDN",carDescription:"ModalCard_carDescription__b7Q1r",carDetails:"ModalCard_carDetails__4tsAy",infoConditions:"ModalCard_infoConditions__zD8hx",conditionsTopWrap:"ModalCard_conditionsTopWrap__qFkTa",conditionsTextIn:"ModalCard_conditionsTextIn__7Epfj",condSapn:"ModalCard_condSapn__mtKxJ",conditionsText:"ModalCard_conditionsText__luROz",conditionsBottomWrap:"ModalCard_conditionsBottomWrap__GPBkA",buttonRent:"ModalCard_buttonRent__eRlTD",btnRentWrap:"ModalCard_btnRentWrap__buc3t"},K=function(e){var a=e.data,n=a.id,s=a.address,r=a.rentalCompany,t=a.year,i=a.type,l=a.model,c=a.img,o=a.make,d=a.rentalPrice,m=a.accessories,p=a.fuelConsumption,u=a.engineSize,_=a.description,h=a.functionalities,f=a.rentalConditions,x=a.mileage,j=f.split("\n"),g=j[0].match(/\d+/),N=s.split(",");return(0,I.jsxs)("div",{className:Y.modalWrap,children:[(0,I.jsx)("div",{className:Y.imageWrapper,children:(0,I.jsx)("img",{src:c,alt:o,className:Y.imgCar})}),(0,I.jsxs)("p",{className:Y.nameCar,children:[" ",o," ",(0,I.jsx)("span",{className:Y.modelCar,children:l}),", ",(0,I.jsx)("span",{children:t})]}),(0,I.jsxs)("div",{className:Y.infoWrap,children:[(0,I.jsxs)("div",{className:Y.infoTopWrap,children:[(0,I.jsxs)("p",{className:Y.infoCar,children:[N[1]," ",(0,I.jsx)("span",{className:Y.border})]}),(0,I.jsxs)("p",{className:Y.infoCar,children:[N[2]," ",(0,I.jsx)("span",{className:Y.border})]}),(0,I.jsxs)("p",{className:Y.infoCar,children:[r," ",(0,I.jsx)("span",{className:Y.border})]}),(0,I.jsxs)("p",{className:Y.infoCar,children:["Id: ",(0,I.jsx)("span",{children:n})," ",(0,I.jsx)("span",{className:Y.border})]}),(0,I.jsxs)("p",{className:Y.infoCar,children:["Year: ",(0,I.jsx)("span",{children:t})," ",(0,I.jsx)("span",{className:Y.border})]}),(0,I.jsxs)("p",{className:Y.infoCar,children:["Type: ",(0,I.jsx)("span",{children:i})]})]}),(0,I.jsxs)("div",{className:Y.infoBottomWrap,children:[(0,I.jsxs)("p",{className:Y.infoCar,children:["Fuel Consumption: ",(0,I.jsx)("span",{children:p})," ",(0,I.jsx)("span",{className:Y.border})]}),(0,I.jsxs)("p",{className:Y.infoCar,children:["Engine Size: ",(0,I.jsx)("span",{children:u})]})]})]}),(0,I.jsx)("p",{className:Y.carDescription,children:_}),(0,I.jsx)("p",{className:Y.carDetails,children:"Accessories and functionalities:"}),(0,I.jsxs)("div",{className:Y.carDetailsWrap,children:[(0,I.jsx)("div",{className:Y.infoTopWrap,children:m.map((function(e){return(0,I.jsxs)("p",{className:Y.infoCar,children:[e," ",(0,I.jsx)("span",{className:Y.border})]},e)}))}),(0,I.jsx)("div",{className:Y.infoBottomWrap,children:h.map((function(e){return(0,I.jsxs)("p",{className:Y.infoCar,children:[e," ",(0,I.jsx)("span",{className:Y.border})]},e)}))})]}),(0,I.jsx)("p",{className:Y.infoConditions,children:"Rental Conditions: "}),(0,I.jsxs)("div",{className:Y.conditionsTopWrap,children:[(0,I.jsxs)("p",{className:Y.conditionsTextIn,children:["Minimum age : ",(0,I.jsx)("span",{className:Y.condSapn,children:g[0]})]}),(0,I.jsx)("p",{className:Y.conditionsText,children:j[1]}),(0,I.jsx)("p",{className:Y.conditionsText,children:j[2]})]}),(0,I.jsxs)("div",{className:Y.conditionsBottomWrap,children:[(0,I.jsx)("p",{className:Y.conditionsText,children:"Security deposite required"}),(0,I.jsxs)("p",{className:Y.conditionsText,children:["Mileage: ",(0,I.jsx)("span",{className:Y.condSapn,children:x})]}),(0,I.jsxs)("p",{className:Y.conditionsText,children:["Price: ",(0,I.jsx)("span",{className:Y.condSapn,children:d})]})]}),(0,I.jsx)("div",{className:Y.btnRentWrap,children:(0,I.jsx)("a",{href:"tel:+380730000000",className:Y.buttonRent,children:"Rental car"})})]},n)};function V(){var e=(0,M.useState)([]),a=(0,r.Z)(e,2),n=a[0],b=a[1],C=(0,M.useState)([]),v=(0,r.Z)(C,2),W=v[0],F=v[1],S=(0,M.useState)(1),w=(0,r.Z)(S,2),P=w[0],B=w[1],O=(0,M.useState)([]),E=(0,r.Z)(O,2),D=E[0],J=E[1],z=(0,M.useState)(!1),q=(0,r.Z)(z,2),G=q[0],Y=q[1],V=(0,M.useState)(""),X=(0,r.Z)(V,2),A=X[0],Q=X[1],U=(0,M.useState)([]),$=(0,r.Z)(U,2),ee=$[0],ae=$[1],ne=(0,M.useState)([]),se=(0,r.Z)(ne,2),re=se[0],te=se[1];(0,M.useEffect)((function(){y().then((function(e){J(e.data)})).catch((function(e){console.log(e),T.Notify.info("404 page not found".toUpperCase())})),ae(JSON.parse(localStorage.getItem("items")))}),[]),console.log("\u0438\u0437\u0431\u0440 \u043d\u0430 \u0445\u043e\u043c\u0435:",ee),(0,M.useEffect)((function(){y(P,8).then((function(e){F(e.data),b((function(a){return[].concat((0,s.Z)(a),(0,s.Z)(e.data))}))})).catch((function(e){console.log(e),T.Notify.info("404 page not found".toUpperCase())}))}),[P,re]);console.log(A);return console.log("\u0424\u0418\u041b\u042c\u0422\u0420 \u041d\u0410 \u0425\u041e\u041c\u0415:",re),(0,I.jsxs)("div",{className:t,children:[(0,I.jsx)("div",{className:o,children:(0,I.jsx)(R,{allItems:D,onFilter:function(e){te(e)}})}),(0,I.jsx)("ul",{className:i,children:(re.length?re:n).map((function(e){var a=e.id,n=e.address,r=e.rentalCompany,t=e.year,i=e.type,o=e.model,b=e.img,C=e.make,v=e.rentalPrice,W=e.accessories,F=e.photoLink,S=n.replace(/[,]/g,"").split(" ").splice(-2),y=(0,k.x0)();return(0,I.jsxs)("li",{className:l,children:[(0,I.jsx)("img",{className:c,src:"".concat(b||F),alt:o}),(0,I.jsxs)("h3",{className:m,children:[(0,I.jsxs)("div",{className:h,children:[(0,I.jsx)("span",{className:p,children:C}),(0,I.jsxs)("span",{className:u,children:[o,","]}),(0,I.jsx)("span",{className:p,children:t})]}),(0,I.jsx)("span",{className:_,children:v})]}),(0,I.jsxs)("div",{className:f,children:[(0,I.jsxs)("span",{className:j,children:[S[0],"  "]}),(0,I.jsx)("span",{className:x}),(0,I.jsxs)("span",{className:j,children:[S[1],"  "]}),(0,I.jsx)("span",{className:x}),(0,I.jsx)("span",{className:j,children:r}),(0,I.jsx)("span",{className:x})]}),(0,I.jsxs)("div",{className:g,children:[(0,I.jsx)("span",{className:j,children:i}),(0,I.jsx)("span",{className:x}),(0,I.jsx)("span",{className:j,children:a}),(0,I.jsx)("span",{className:x}),(0,I.jsx)("span",{className:j,children:W[0]}),(0,I.jsx)("span",{className:x})]}),(0,I.jsx)("button",{type:"button",className:N,onClick:function(){return function(e){Y(!0);var a=D.find((function(a){return a.id===e}));Q(a)}(a)},children:"Learn more"}),ee&&(ee.find((function(e){return e.id===a}))?(0,I.jsx)("button",{type:"button",onClick:function(){return function(e){ae(ee.filter((function(a){return a.id!==e}))),localStorage.setItem("items",JSON.stringify(ee)),console.log("\u043f\u043e\u0441\u043b\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0438\u0437 \u0438\u0437\u0431\u0440:",ee)}(a)},className:d,children:(0,I.jsx)("svg",{width:"18",height:"18",children:(0,I.jsx)("use",{href:"".concat(L,"#icon-heart")})})}):(0,I.jsx)("button",{type:"button",onClick:function(){return function(e){var a=D.find((function(a){return a.id===e}));ae((function(e){return[].concat((0,s.Z)(e),[a])})),localStorage.setItem("items",JSON.stringify(ee)),console.log(a),console.log("\u0434\u043e\u0431\u0430\u0432 \u0432 \u0438\u0437\u0431\u0440:",ee)}(a)},className:d,children:(0,I.jsx)("svg",{width:"18",height:"18",children:(0,I.jsx)("use",{href:"".concat(L,"#icon-heart-1")})})}))]},y)}))}),W.length>=8&&!re.length&&(0,I.jsx)(Z,{onClick:function(){B((function(e){return e+1}))}}),G&&(0,I.jsx)(H,{onClose:function(){Y(!1)},children:(0,I.jsx)(K,{data:A})})]})}}}]);
//# sourceMappingURL=151.e1d1f96e.chunk.js.map