"use strict";(self.webpackChunkcar_rent=self.webpackChunkcar_rent||[]).push([[533],{533:function(e,a,t){t.r(a),t.d(a,{default:function(){return E}});var n=t(3433),r=t(9439),l="Catalog_wrapper__dyzoY",s="Catalog_imageGallery__K21PZ",i="Catalog_imageGalleryItem__bWhV8",c="Catalog_imageGalleryItemImg__dEPuP",o="Catalog_filter__-wOMJ",u="Catalog_btnFav__FYnPJ",m="Catalog_cardTitle__WvgnI",d="Catalog_cardTitleSpan__RRZNd",p="Catalog_cardTitleSpanBlue__EXSgZ",_="Catalog_cardTitleSpanPrice__++KCv",h="Catalog_cardTitleWrap__dY97v",f="Catalog_carInfoWrap__Rc12S",g="Catalog_delimeter__9Hl5w",b="Catalog_carInfo__FG5i2",x="Catalog_carInfoBottomWrap__KwSNn",v=t(5861),j=t(4687),N=t.n(j),F=t(1243),C="https://65043bd8c8869921ae24bc1c.mockapi.io/adverts";function S(){return S=(0,v.Z)(N().mark((function e(a){var t,n,r=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.next=4,F.Z.get("".concat(C,"?page=").concat(a,"&limit=").concat(t));case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0.message),new Error(e.t0.message);case 12:case 13:case"end":return e.stop()}}),e,null,[[1,8]])}))),S.apply(this,arguments)}var k=function(e){return S.apply(this,arguments)},y=t(2791),I=t(5264),Z=t(5984),w="ButtonLoadMore_buttonLm__JoeFQ",P=t(184),W=function(e){var a=e.onClick;return(0,P.jsx)("button",{className:w,type:"button",onClick:a,children:"Load more"})},O=t(1413),T={form:"Filter_form__wVnxJ",brandWrap:"Filter_brandWrap__SJT45",inputBrand:"Filter_inputBrand__su5P6",buttonOpenBrand:"Filter_buttonOpenBrand__MNglM",labelBrand:"Filter_labelBrand__SSj0t",svgOpen:"Filter_svgOpen__CdfkW",priceWrap:"Filter_priceWrap__ParfG",labelPrice:"Filter_labelPrice__Dq5Rs",inputPrice:"Filter_inputPrice__qwjiv",buttonOpenPrice:"Filter_buttonOpenPrice__nZmMo",mileageWrap:"Filter_mileageWrap__q9Vq5",inputWrap:"Filter_inputWrap__XEHXz",mileageLabel:"Filter_mileageLabel__FTo1Q",mileageInputFrom:"Filter_mileageInputFrom__-zK2+",mileageInputTo:"Filter_mileageInputTo__yabGk",buttonSearchFilter:"Filter_buttonSearchFilter__vMDgb",btnResetFilter:"Filter_btnResetFilter__wx+kv",brandList:"Filter_brandList__wWl8e",priceList:"Filter_priceList__bqh-9",brandItem:"Filter_brandItem__p004R",priceItem:"Filter_priceItem__2Q5NH"};var L=t.p+"static/media/symbol-defs.bb068d2edaa1f2c179ff3ecc52e6989e.svg",B=function(e,a){var t=a.make,n=void 0===t?"":t,r=a.price,l=void 0===r?1e3:r,s=a.milFrom,i=void 0===s?1:s,c=a.milTo,o=void 0===c?1/0:c;return e.filter((function(e){return Number(e.rentalPrice.substring(1))<="".concat(l)})).filter((function(e){return e.make===("".concat(n)||e.make)})).filter((function(e){return e.mileage>="".concat(i)&&e.mileage<="".concat(o)}))},R=function(e){var a=e.allItems,t=(e.favourItems,e.onFilter),n=(0,y.useState)(!1),l=(0,r.Z)(n,2),s=l[0],i=l[1],c=(0,y.useState)(!1),o=(0,r.Z)(c,2),u=o[0],m=o[1],d=(0,y.useState)(""),p=(0,r.Z)(d,2),_=p[0],h=p[1],f=(0,y.useState)(""),g=(0,r.Z)(f,2),b=g[0],x=g[1],v=(0,y.useState)(1),j=(0,r.Z)(v,2),N=j[0],F=j[1],C=(0,y.useState)(1/0),S=(0,r.Z)(C,2),k=S[0],I=S[1],w=(0,y.useState)({}),W=(0,r.Z)(w,2),R=W[0],E=W[1],J=B(a,(0,O.Z)({},R));console.log("POSLE \u0424\u0418\u041b\u042c\u0422\u0420\u0410:",J);console.log("\u0424\u0418\u041b\u042c\u0422\u0420\u0410:",R);var G=a.map((function(e){return e.make})).filter((function(e,a,t){return t.indexOf(e)===a})),M=function(){for(var e=[],a=10;a<=500;a+=10)e.push(a);return e}();return(0,P.jsxs)("div",{className:T.formWrap,children:[(0,P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E({make:_,price:b,milFrom:N,milTo:k}),t(J)},className:T.form,children:[(0,P.jsxs)("div",{className:T.brandWrap,children:[(0,P.jsx)("label",{htmlFor:"brand",className:T.labelBrand,children:"Car brand"}),(0,P.jsx)("input",{type:"text",name:"brand",id:"brand",placeholder:"Enter the text",value:_,onChange:function(e){return h(e.target.value)},className:T.inputBrand}),(0,P.jsx)("button",{type:"button","aria-label":"arrow",onClick:function(){return i(!s)},className:T.buttonOpenBrand,children:(0,P.jsx)("svg",{width:"20",height:"20",className:T.svgOpen,children:(0,P.jsx)("use",{href:"".concat(L,"#icon-chevron-down")})})}),s&&(0,P.jsx)("ul",{className:T.brandList,children:G.map((function(e){var a=(0,Z.x0)();return(0,P.jsx)("li",{onClick:function(){return a="".concat(e),i(!1),void h(a);var a},className:T.brandItem,children:e},a)}))})]}),(0,P.jsxs)("div",{className:T.priceWrap,children:[(0,P.jsx)("label",{htmlFor:"price",className:T.labelPrice,children:"Price/ 1 hour"}),(0,P.jsx)("input",{type:"text",name:"price",id:"price",placeholder:"To $",value:b,onChange:function(e){return x(e.target.value)},className:T.inputPrice}),(0,P.jsx)("button",{type:"button","aria-label":"arrow",onClick:function(){return m(!u)},className:T.buttonOpenPrice,children:(0,P.jsx)("svg",{width:"20",height:"20",className:T.svgOpen,children:(0,P.jsx)("use",{href:"".concat(L,"#icon-chevron-down")})})}),u&&(0,P.jsx)("ul",{className:T.priceList,children:M.map((function(e){var a=(0,Z.x0)();return(0,P.jsx)("li",{onClick:function(){return a="".concat(e),m(!1),void x(a);var a},className:T.priceItem,children:e},a)}))})]}),(0,P.jsxs)("div",{className:T.mileageWrap,children:[(0,P.jsx)("label",{htmlFor:"mileage",className:T.mileageLabel,children:"\u0421ar mileage / km"}),(0,P.jsxs)("div",{className:T.inputWrap,children:[(0,P.jsx)("input",{type:"number",id:"mileage",name:"mileageFrom",placeholder:"From",value:N,onChange:function(e){var a=e.target.value;F(a)},className:T.mileageInputFrom}),(0,P.jsx)("input",{type:"number",id:"mileage",name:"mileageTo",placeholder:"To",value:k,onChange:function(e){var a=e.target.value;I(a)},className:T.mileageInputTo})]})]}),(0,P.jsx)("button",{type:"submit",className:T.buttonSearchFilter,children:"Search"})]}),(0,P.jsx)("button",{type:"button",className:T.btnResetFilter,onClick:function(){E({}),h(""),x(""),F(1),I(1/0)},children:"Reset filters"})]})};function E(){var e=(0,y.useState)([]),a=(0,r.Z)(e,2),t=a[0],v=a[1],j=(0,y.useState)([]),N=(0,r.Z)(j,2),F=N[0],C=N[1],S=(0,y.useState)(1),w=(0,r.Z)(S,2),O=w[0],T=w[1],B=(0,y.useState)([]),E=(0,r.Z)(B,2),J=E[0],G=E[1],M=(0,y.useState)([]),q=(0,r.Z)(M,2),K=q[0],z=q[1],D=(0,y.useState)([]),H=(0,r.Z)(D,2),Q=H[0],V=H[1];(0,y.useEffect)((function(){k().then((function(e){G(e.data)})).catch((function(e){console.log(e),I.Notify.info("404 page not found".toUpperCase())})),z(JSON.parse(localStorage.getItem("items")))}),[]),console.log("\u0438\u0437\u0431\u0440 \u043d\u0430 \u0445\u043e\u043c\u0435:",K),(0,y.useEffect)((function(){k(O,8).then((function(e){C(e.data),v((function(a){return[].concat((0,n.Z)(a),(0,n.Z)(e.data))}))})).catch((function(e){console.log(e),I.Notify.info("404 page not found".toUpperCase())}))}),[O,Q]);return console.log("\u0424\u0418\u041b\u042c\u0422\u0420 \u041d\u0410 \u0425\u041e\u041c\u0415:",Q),(0,P.jsxs)("div",{className:l,children:[(0,P.jsx)("div",{className:o,children:(0,P.jsx)(R,{allItems:J,onFilter:function(e){V(e)}})}),(0,P.jsx)("ul",{className:s,children:(Q.length?Q:t).map((function(e){var a=e.id,t=e.address,r=e.rentalCompany,l=e.year,s=e.type,o=e.model,v=e.img,j=e.make,N=e.rentalPrice,F=e.accessories,C=e.photoLink,S=t.replace(/[,]/g,"").split(" ").splice(-2),k=(0,Z.x0)();return(0,P.jsxs)("li",{className:i,children:[(0,P.jsx)("img",{className:c,src:"".concat(v||C),alt:o}),(0,P.jsxs)("h3",{className:m,children:[(0,P.jsxs)("div",{className:h,children:[(0,P.jsx)("span",{className:d,children:j}),(0,P.jsxs)("span",{className:p,children:[o,","]}),(0,P.jsx)("span",{className:d,children:l})]}),(0,P.jsx)("span",{className:_,children:N})]}),(0,P.jsxs)("div",{className:f,children:[(0,P.jsxs)("span",{className:b,children:[S[0],"  "]}),(0,P.jsx)("span",{className:g}),(0,P.jsxs)("span",{className:b,children:[S[1],"  "]}),(0,P.jsx)("span",{className:g}),(0,P.jsx)("span",{className:b,children:r}),(0,P.jsx)("span",{className:g})]}),(0,P.jsxs)("div",{className:x,children:[(0,P.jsx)("span",{className:b,children:s}),(0,P.jsx)("span",{className:g}),(0,P.jsx)("span",{className:b,children:a}),(0,P.jsx)("span",{className:g}),(0,P.jsx)("span",{className:b,children:F[0]}),(0,P.jsx)("span",{className:g})]}),K&&(K.find((function(e){return e.id===a}))?(0,P.jsx)("button",{type:"button",onClick:function(){return function(e){z(K.filter((function(a){return a.id!==e}))),localStorage.setItem("items",JSON.stringify(K)),console.log("\u043f\u043e\u0441\u043b\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0438\u0437 \u0438\u0437\u0431\u0440:",K)}(a)},className:u,children:(0,P.jsx)("svg",{width:"18",height:"18",children:(0,P.jsx)("use",{href:"".concat(L,"#icon-heart")})})}):(0,P.jsx)("button",{type:"button",onClick:function(){return function(e){var a=J.find((function(a){return a.id===e}));z((function(e){return[].concat((0,n.Z)(e),[a])})),localStorage.setItem("items",JSON.stringify(K)),console.log(a),console.log("\u0434\u043e\u0431\u0430\u0432 \u0432 \u0438\u0437\u0431\u0440:",K)}(a)},className:u,children:(0,P.jsx)("svg",{width:"18",height:"18",children:(0,P.jsx)("use",{href:"".concat(L,"#icon-heart-1")})})}))]},k)}))}),F.length>=8&&!Q.length&&(0,P.jsx)(W,{onClick:function(){T((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=533.9aa33688.chunk.js.map